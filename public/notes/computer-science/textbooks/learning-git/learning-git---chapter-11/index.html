<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="">
<meta name="description" content=" Rebasing We&rsquo;re over ten chapters into this text; let&rsquo;s get a quick recap of the status of our repos:
One thing to notice about the repos up until this point is that up to the green commit, our project&rsquo;s history was linear. Some people prefer to keep their history this way, and want to avoid branching pathways, like we had to do for the three-way merges we had to make.
" />
<meta name="keywords" content="homepage, blog, computerscience, git, textbook" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://mrpointing.com/notes/computer-science/textbooks/learning-git/learning-git---chapter-11/" />


    <title>
        
            Learning Git - Chapter 11 :: Mr. Pointing  — Computer Science Teacher
        
    </title>





<link rel="stylesheet" href="/main.7f0f0e09d855bb3e994e0822978b2b19010d62b45a960878c88ba8b8d6808eb2.css" integrity="sha256-fw8OCdhVuz6ZTggil4srGQENYrRalgh4yIuouNaAjrI=">




<link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#000000">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="msapplication-TileColor" content="">



  <meta itemprop="name" content="Learning Git - Chapter 11">
  <meta itemprop="description" content="Rebasing We’re over ten chapters into this text; let’s get a quick recap of the status of our repos:
One thing to notice about the repos up until this point is that up to the green commit, our project’s history was linear. Some people prefer to keep their history this way, and want to avoid branching pathways, like we had to do for the three-way merges we had to make.">
  <meta itemprop="datePublished" content="2025-01-08T00:00:00+00:00">
  <meta itemprop="dateModified" content="2025-01-08T00:00:00+00:00">
  <meta itemprop="wordCount" content="2074">
  <meta itemprop="image" content="https://mrpointing.com/">
  <meta itemprop="keywords" content="Computerscience,Git,Textbook">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://mrpointing.com/">
  <meta name="twitter:title" content="Learning Git - Chapter 11">
  <meta name="twitter:description" content="Rebasing We’re over ten chapters into this text; let’s get a quick recap of the status of our repos:
One thing to notice about the repos up until this point is that up to the green commit, our project’s history was linear. Some people prefer to keep their history this way, and want to avoid branching pathways, like we had to do for the three-way merges we had to make.">



    <meta property="og:url" content="https://mrpointing.com/notes/computer-science/textbooks/learning-git/learning-git---chapter-11/">
  <meta property="og:site_name" content="Mr. Pointing">
  <meta property="og:title" content="Learning Git - Chapter 11">
  <meta property="og:description" content="Rebasing We’re over ten chapters into this text; let’s get a quick recap of the status of our repos:
One thing to notice about the repos up until this point is that up to the green commit, our project’s history was linear. Some people prefer to keep their history this way, and want to avoid branching pathways, like we had to do for the three-way merges we had to make.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="notes">
    <meta property="article:published_time" content="2025-01-08T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-01-08T00:00:00+00:00">
    <meta property="article:tag" content="Computerscience">
    <meta property="article:tag" content="Git">
    <meta property="article:tag" content="Textbook">
    <meta property="og:image" content="https://mrpointing.com/">






    <meta property="article:published_time" content="2025-01-08 00:00:00 &#43;0000 UTC" />









    




    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">

    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text ">
                mr. pointing</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/about">About</a></li><li><a href="/notes">Notes</a></li><li><a href="/now">Now</a></li><li><a href="/posts">Posts</a></li><li><a href="/projects">Projects</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="https://mrpointing.com/notes/computer-science/textbooks/learning-git/learning-git---chapter-11/">Learning Git - Chapter 11</a></h2>

            
            
            

            <div class="post-content">
                <hr>
<h1 id="rebasing">Rebasing</h1>
<p>We&rsquo;re over ten chapters into this text; let&rsquo;s get a quick recap of the status of our repos:</p>

    <img src="/images/repo_status_11.png"  alt="repo_status_11"  class="center"  style="border-radius: 8px;"  />


<p>One thing to notice about the repos up until this point is that up to the <code>green</code> commit, our project&rsquo;s history was linear. Some people prefer to keep their history this way, and want to avoid branching pathways, like we had to do for the three-way merges we had to make.</p>
<p>One way to avoid creating branching paths is with <em>rebasing</em>, which takes changes and creates <em>new</em> commits. This can be confusing to understand, so let&rsquo;s look at our example book project.</p>
<blockquote>
<p>[!Example Book Project]
We&rsquo;re actually going to use the scenario from <a href="https://mrpointing.com/notes/computer-science/textbooks/learning-git/learning-git---chapter-9/">Chapter 9</a>. I am working with a coauthor on a project now, and We are on commit <code>B</code>. We both decide we are going to work on separate branches off of commit <code>B</code>; I decide to name my branch <code>chapter_11</code> and my coauthor uses <code>chapter_12</code>.</p>
<p>Unfortunately, my coauthor again chooses to commit and push to our remote repo before me, creating commit <code>C</code> and updating our remote repo to point at that commit. When I make my first commit, it will be commit <code>D</code>.</p>
<p>I could do a <code>fetch</code> and three way merge to integrate my chapter into the remote repo, but that&rsquo;s going to create a merge commit and my team/department doesn&rsquo;t want branching paths.</p>
<p>Instead, I could <code>pull</code> the most recent changes, with the intent to rebase the <code>chapter_11</code> branch on top of the <code>main</code> branch. This would, in my local repo, create a new commit, <code>D'</code>, as well as bring in <code>C</code> from our remote repo. My local repo would have <code>main</code> pointing at <code>C</code>, and <code>chapter_11</code> pointing at <code>D'</code>. Then, all I need to do is fast-forward merge my local repo and we&rsquo;re all caught up.</p>
</blockquote>
<h2 id="setting-up-the-rebase">Setting Up the Rebase</h2>
<p>Here&rsquo;s how we can set this up; again, we&rsquo;ll need diverging paths. We&rsquo;ll get this by committing something in our <code>rainbow</code> repo and <code>push</code> it to the remote repo; then, our &ldquo;friend&rdquo; makes some commits into the <code>friend-rainbow</code> without fetching the commits we pushed. After the commits are made, then we can fetch and begin the rebase.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt;&gt;&gt; nano othercolors.txt
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Add &#34;Gray is not a color of the rainbow.&#34;</span>
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; git add othercolors.txt
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; git commit -m <span style="color:#e6db74">&#34;gray&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>main 5c7072f<span style="color:#f92672">]</span> gray
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">1</span> file changed, <span style="color:#ae81ff">1</span> insertion<span style="color:#f92672">(</span>+<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; git push
</span></span><span style="display:flex;"><span>Enumerating objects: 5, <span style="color:#66d9ef">done</span>.
</span></span><span style="display:flex;"><span>Counting objects: 100% <span style="color:#f92672">(</span>5/5<span style="color:#f92672">)</span>, <span style="color:#66d9ef">done</span>.
</span></span><span style="display:flex;"><span>Delta compression using up to <span style="color:#ae81ff">4</span> threads
</span></span><span style="display:flex;"><span>Compressing objects: 100% <span style="color:#f92672">(</span>3/3<span style="color:#f92672">)</span>, <span style="color:#66d9ef">done</span>.
</span></span><span style="display:flex;"><span>Writing objects: 100% <span style="color:#f92672">(</span>3/3<span style="color:#f92672">)</span>, <span style="color:#ae81ff">318</span> bytes | 318.00 KiB/s, <span style="color:#66d9ef">done</span>.
</span></span><span style="display:flex;"><span>Total <span style="color:#ae81ff">3</span> <span style="color:#f92672">(</span>delta 0<span style="color:#f92672">)</span>, reused <span style="color:#ae81ff">0</span> <span style="color:#f92672">(</span>delta 0<span style="color:#f92672">)</span>, pack-reused <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>To https://github.com/mr-pointing/rainbow-remote.git
</span></span><span style="display:flex;"><span>   003c379..5c7072f  main -&gt; main
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; git log
</span></span><span style="display:flex;"><span>commit 5c7072f0dd7de9c4b08aba768ef923d3592b6ddb <span style="color:#f92672">(</span>HEAD -&gt; main, origin/main<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Author: mr-pointing &lt;rpointing@blmhs.org&gt;
</span></span><span style="display:flex;"><span>Date:   Sat Jan <span style="color:#ae81ff">11</span> 15:09:34 <span style="color:#ae81ff">2025</span> -0500
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    gray
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>commit 003c379ad2e0d4da4f2a1cc3ea6b8bf220efd2b1
</span></span><span style="display:flex;"><span>Merge: d4fef18 d3bd816
</span></span><span style="display:flex;"><span>Author: mr-pointing &lt;rpointing@blmhs.org&gt;
</span></span><span style="display:flex;"><span>Date:   Wed Jan <span style="color:#ae81ff">8</span> 11:05:29 <span style="color:#ae81ff">2025</span> -0500
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    merge commit <span style="color:#ae81ff">2</span>
</span></span></code></pre></div><h3 id="unstaging-and-staging-files">Unstaging and Staging Files</h3>
<p>I&rsquo;m not going to go too deep into this, mostly because I think for students, I might want to introduce this concept when introducing the staging area. Students are bound to make mistakes, or rush and accidently add something they don&rsquo;t want. I can already see the looks on their faces when I tell them that I won&rsquo;t be teaching them how to undo it until the <em>end</em> of the unit, so I think earlier the better.</p>
<p>We know the staging area acts as a rough draft for our commits. Logically then, if we can add something to it, we can remove something from it. This can be achieved rather simply with the <code>git restore --staged &lt;filename&gt;</code> command. There is a follow along for you to practice staging and unstaging a file, but I want to focus primarily on the rebasing in this chapter.</p>
<p>In the <code>friend-rainbow</code> repo;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt;&gt;&gt; nano othercolors.txt
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Add &#34;Black is not a color in the rainbow&#34;</span>
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; git status
</span></span><span style="display:flex;"><span>On branch main
</span></span><span style="display:flex;"><span>Your branch is up to date with <span style="color:#e6db74">&#39;origin/main&#39;</span>.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Changes not staged <span style="color:#66d9ef">for</span> commit:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">(</span>use <span style="color:#e6db74">&#34;git add &lt;file&gt;...&#34;</span> to update what will be committed<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">(</span>use <span style="color:#e6db74">&#34;git restore &lt;file&gt;...&#34;</span> to discard changes in working directory<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>	modified:   othercolors.txt
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>no changes added to commit <span style="color:#f92672">(</span>use <span style="color:#e6db74">&#34;git add&#34;</span> and/or <span style="color:#e6db74">&#34;git commit -a&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; git add othercolors.txt
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; git status
</span></span><span style="display:flex;"><span>On branch main
</span></span><span style="display:flex;"><span>Your branch is up to date with <span style="color:#e6db74">&#39;origin/main&#39;</span>.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Changes to be committed:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">(</span>use <span style="color:#e6db74">&#34;git restore --staged &lt;file&gt;...&#34;</span> to unstage<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>	modified:   othercolors.txt
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; git commit -m <span style="color:#e6db74">&#34;black&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>main 2be843e<span style="color:#f92672">]</span> black
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">1</span> file changed, <span style="color:#ae81ff">1</span> insertion<span style="color:#f92672">(</span>+<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; git status
</span></span><span style="display:flex;"><span>On branch main
</span></span><span style="display:flex;"><span>Your branch is ahead of <span style="color:#e6db74">&#39;origin/main&#39;</span> by <span style="color:#ae81ff">1</span> commit.
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">(</span>use <span style="color:#e6db74">&#34;git push&#34;</span> to publish your local commits<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>nothing to commit, working tree clean
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; git log
</span></span><span style="display:flex;"><span>commit 2be843e812a656c5ba97ef28fba50f74867e6f89 <span style="color:#f92672">(</span>HEAD -&gt; main<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Author: mr-pointing &lt;rpointing@blmhs.org&gt;
</span></span><span style="display:flex;"><span>Date:   Sat Jan <span style="color:#ae81ff">11</span> 15:25:42 <span style="color:#ae81ff">2025</span> -0500
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    black
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>commit 003c379ad2e0d4da4f2a1cc3ea6b8bf220efd2b1 <span style="color:#f92672">(</span>origin/main, origin/HEAD<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Merge: d4fef18 d3bd816
</span></span><span style="display:flex;"><span>Author: mr-pointing &lt;rpointing@blmhs.org&gt;
</span></span><span style="display:flex;"><span>Date:   Wed Jan <span style="color:#ae81ff">8</span> 11:05:29 <span style="color:#ae81ff">2025</span> -0500
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    merge commit <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; nano rainbowcolors.txt
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Add &#34;These are the colors of the rainbow.&#34;</span>
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; git add rainbowcolors.txt
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; git commit -m <span style="color:#e6db74">&#34;rainbow&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>main a40f4f1<span style="color:#f92672">]</span> rainbow
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">1</span> file changed, <span style="color:#ae81ff">1</span> insertion<span style="color:#f92672">(</span>+<span style="color:#f92672">)</span>, <span style="color:#ae81ff">1</span> deletion<span style="color:#f92672">(</span>-<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; git log
</span></span><span style="display:flex;"><span>commit a40f4f1bee9e6d6434b0e3f8a8c2a483e9ea7bac <span style="color:#f92672">(</span>HEAD -&gt; main<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Author: mr-pointing &lt;rpointing@blmhs.org&gt;
</span></span><span style="display:flex;"><span>Date:   Sat Jan <span style="color:#ae81ff">11</span> 15:34:36 <span style="color:#ae81ff">2025</span> -0500
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    rainbow
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>commit 2be843e812a656c5ba97ef28fba50f74867e6f89
</span></span><span style="display:flex;"><span>Author: mr-pointing &lt;rpointing@blmhs.org&gt;
</span></span><span style="display:flex;"><span>Date:   Sat Jan <span style="color:#ae81ff">11</span> 15:25:42 <span style="color:#ae81ff">2025</span> -0500
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    black
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>commit 003c379ad2e0d4da4f2a1cc3ea6b8bf220efd2b1 <span style="color:#f92672">(</span>origin/main, origin/HEAD<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Merge: d4fef18 d3bd816
</span></span><span style="display:flex;"><span>Author: mr-pointing &lt;rpointing@blmhs.org&gt;
</span></span><span style="display:flex;"><span>Date:   Wed Jan <span style="color:#ae81ff">8</span> 11:05:29 <span style="color:#ae81ff">2025</span> -0500
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    merge commit <span style="color:#ae81ff">2</span>
</span></span></code></pre></div><p>A lot going on here. Again, not too much happening, mostly editing text files, adding them to the staging area, and making commits when ready. We&rsquo;ve committed twice now, once for our <code>othercolors.txt</code> file and once for our <code>rainbowcolors.txt</code> file.</p>
<p>Now, again, to start our rebase we acting as our friend have to <code>fetch</code> the most recent changes in the remote repo;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt;&gt;&gt; git fetch
</span></span><span style="display:flex;"><span>remote: Enumerating objects: 5, <span style="color:#66d9ef">done</span>.
</span></span><span style="display:flex;"><span>remote: Counting objects: 100% <span style="color:#f92672">(</span>5/5<span style="color:#f92672">)</span>, <span style="color:#66d9ef">done</span>.
</span></span><span style="display:flex;"><span>remote: Compressing objects: 100% <span style="color:#f92672">(</span>3/3<span style="color:#f92672">)</span>, <span style="color:#66d9ef">done</span>.
</span></span><span style="display:flex;"><span>remote: Total <span style="color:#ae81ff">3</span> <span style="color:#f92672">(</span>delta 0<span style="color:#f92672">)</span>, reused <span style="color:#ae81ff">3</span> <span style="color:#f92672">(</span>delta 0<span style="color:#f92672">)</span>, pack-reused <span style="color:#ae81ff">0</span> <span style="color:#f92672">(</span>from 0<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Unpacking objects: 100% <span style="color:#f92672">(</span>3/3<span style="color:#f92672">)</span>, <span style="color:#ae81ff">298</span> bytes | 99.00 KiB/s, <span style="color:#66d9ef">done</span>.
</span></span><span style="display:flex;"><span>From https://github.com/mr-pointing/rainbow-remote
</span></span><span style="display:flex;"><span>   003c379..5c7072f  main       -&gt; origin/main
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; git log --all
</span></span><span style="display:flex;"><span>commit a40f4f1bee9e6d6434b0e3f8a8c2a483e9ea7bac <span style="color:#f92672">(</span>HEAD -&gt; main<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Author: mr-pointing &lt;rpointing@blmhs.org&gt;
</span></span><span style="display:flex;"><span>Date:   Sat Jan <span style="color:#ae81ff">11</span> 15:34:36 <span style="color:#ae81ff">2025</span> -0500
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    rainbow
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>commit 2be843e812a656c5ba97ef28fba50f74867e6f89
</span></span><span style="display:flex;"><span>Author: mr-pointing &lt;rpointing@blmhs.org&gt;
</span></span><span style="display:flex;"><span>Date:   Sat Jan <span style="color:#ae81ff">11</span> 15:25:42 <span style="color:#ae81ff">2025</span> -0500
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    black
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>commit 5c7072f0dd7de9c4b08aba768ef923d3592b6ddb <span style="color:#f92672">(</span>origin/main, origin/HEAD<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Author: mr-pointing &lt;rpointing@blmhs.org&gt;
</span></span><span style="display:flex;"><span>Date:   Sat Jan <span style="color:#ae81ff">11</span> 15:09:34 <span style="color:#ae81ff">2025</span> -0500
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    gray
</span></span></code></pre></div><p>Now, the most important repo I want to visualize is the <code>friend-rainbow</code> repo;</p>

    <img src="/images/rebase_pt2.png"  alt="rebase_pt2"  class="center"  style="border-radius: 8px;"  />


<p>Performing the rebase is simple; use <code>git rebase</code>, and barring any merge conflicts you&rsquo;ll be good to go. Behind the scenes, there are five steps happening I&rsquo;ll go into a little more detail below.</p>
<ol>
<li><strong>Find the Common Ancestor</strong>
<ol>
<li>Git has to find the common ancestor between the branch you are on (<code>main</code>) and the branch you are trying to rebase onto (<code>origin/main</code>). In this case, that would be <code>M2</code>.</li>
</ol>
</li>
<li><strong>Store Information About the Branches Involved in the Rebase</strong>
<ol>
<li>Git saves all of the changes made in each commit of the branch you&rsquo;re currently on in some temporary, unimportant area, along with information on the branch to rebase onto and where the branch originally was. For us, changes made in the <code>black</code> and <code>rainbow</code> commit will be saved along with information on <code>gray</code> and <code>main</code>.</li>
</ol>
</li>
<li><strong>Reset HEAD</strong>
<ol>
<li>Git places head to the commit you are rebasing too, <code>gray</code>.</li>
</ol>
</li>
<li><strong>Apply and Commit the Changes</strong>
<ol>
<li>Git makes all of the changes from each commit, and makes <em>new</em> commits. Think of these like <code>black'</code> and <code>black</code>; similar but different.</li>
</ol>
</li>
<li><strong>Switch onto the Rebased Branch</strong>
<ol>
<li>Git checks out <code>HEAD</code> at it&rsquo;s most latest commit.</li>
</ol>
</li>
</ol>
<p>If we have no issues, our repo would look like this;</p>

    <img src="/images/rebase_pt3.png"  alt="rebase_pt3"  class="center"  style="border-radius: 8px;"  />


<p>We are, for the sake of getting experience, going to run into issues.</p>
<h2 id="rebasing-and-merge-conflicts">Rebasing and Merge Conflicts</h2>
<p>An important concept to understand about merge conflicts when discussing rebasing compared to three way merging is the rate in which you fix your merge conflicts. During a three way merge, Git will present you with all of the conflicts at once, and after your changes are made and added you make the commit to complete the merge. You are editing only <em>once</em>.</p>
<p>For rebasing, depending on where your merge conflicts are, you&rsquo;ll have to resolve them <em>per</em> commit. Remember, since in a rebase you are making new commits of each previously merging commit, you&rsquo;ll have to deal with each conflict one at a time. This means you could be editing, adding, and committing multiple times during a rebase. You even need a special addition to our command, <code>git rebase --continue</code>, to tell Git to continue with the rebase after each commits merge conflicts are resolved.</p>
<p>If you wanted to stop the rebase in the middle for whatever reason, you can use <code>git rebase --abort</code> to stop and return to the state of the repo before the merge.</p>
<p>Let&rsquo;s try this out;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt;&gt;&gt; git rebase origin/main
</span></span><span style="display:flex;"><span>Auto-merging othercolors.txt
</span></span><span style="display:flex;"><span>CONFLICT <span style="color:#f92672">(</span>content<span style="color:#f92672">)</span>: Merge conflict in othercolors.txt
</span></span><span style="display:flex;"><span>error: could not apply 2be843e... black
</span></span><span style="display:flex;"><span>hint: Resolve all conflicts manually, mark them as resolved with
</span></span><span style="display:flex;"><span>hint: <span style="color:#e6db74">&#34;git add/rm &lt;conflicted_files&gt;&#34;</span>, <span style="color:#66d9ef">then</span> run <span style="color:#e6db74">&#34;git rebase --continue&#34;</span>.
</span></span><span style="display:flex;"><span>hint: You can instead skip this commit: run <span style="color:#e6db74">&#34;git rebase --skip&#34;</span>.
</span></span><span style="display:flex;"><span>hint: To abort and get back to the state before <span style="color:#e6db74">&#34;git rebase&#34;</span>, run <span style="color:#e6db74">&#34;git rebase --abort&#34;</span>.
</span></span><span style="display:flex;"><span>Could not apply 2be843e... black
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; git status
</span></span><span style="display:flex;"><span>interactive rebase in progress; onto 5c7072f
</span></span><span style="display:flex;"><span>Last command <span style="color:#66d9ef">done</span> <span style="color:#f92672">(</span><span style="color:#ae81ff">1</span> command <span style="color:#66d9ef">done</span><span style="color:#f92672">)</span>:
</span></span><span style="display:flex;"><span>   pick 2be843e black
</span></span><span style="display:flex;"><span>Next command to <span style="color:#66d9ef">do</span> <span style="color:#f92672">(</span><span style="color:#ae81ff">1</span> remaining command<span style="color:#f92672">)</span>:
</span></span><span style="display:flex;"><span>   pick a40f4f1 rainbow
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">(</span>use <span style="color:#e6db74">&#34;git rebase --edit-todo&#34;</span> to view and edit<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>You are currently rebasing branch <span style="color:#e6db74">&#39;main&#39;</span> on <span style="color:#e6db74">&#39;5c7072f&#39;</span>.
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">(</span>fix conflicts and <span style="color:#66d9ef">then</span> run <span style="color:#e6db74">&#34;git rebase --continue&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">(</span>use <span style="color:#e6db74">&#34;git rebase --skip&#34;</span> to skip this patch<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">(</span>use <span style="color:#e6db74">&#34;git rebase --abort&#34;</span> to check out the original branch<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Unmerged paths:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">(</span>use <span style="color:#e6db74">&#34;git restore --staged &lt;file&gt;...&#34;</span> to unstage<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">(</span>use <span style="color:#e6db74">&#34;git add &lt;file&gt;...&#34;</span> to mark resolution<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>	both modified:   othercolors.txt
</span></span></code></pre></div><p>As you can see, Git is always pretty descriptive of what needs to be done. As long as you&rsquo;re following along and paying attention, Git will pretty much tell you what to do. We see that we were able to merge our black commit (<code>last done</code>) and we now have to edit the <code>othercolors.txt</code> file and continue;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt;&gt;&gt; nano othercolors.txt
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; git add othercolors.txt
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; git status
</span></span><span style="display:flex;"><span>interactive rebase in progress; onto 5c7072f
</span></span><span style="display:flex;"><span>Last command <span style="color:#66d9ef">done</span> <span style="color:#f92672">(</span><span style="color:#ae81ff">1</span> command <span style="color:#66d9ef">done</span><span style="color:#f92672">)</span>:
</span></span><span style="display:flex;"><span>   pick 2be843e black
</span></span><span style="display:flex;"><span>Next command to <span style="color:#66d9ef">do</span> <span style="color:#f92672">(</span><span style="color:#ae81ff">1</span> remaining command<span style="color:#f92672">)</span>:
</span></span><span style="display:flex;"><span>   pick a40f4f1 rainbow
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">(</span>use <span style="color:#e6db74">&#34;git rebase --edit-todo&#34;</span> to view and edit<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>You are currently rebasing branch <span style="color:#e6db74">&#39;main&#39;</span> on <span style="color:#e6db74">&#39;5c7072f&#39;</span>.
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">(</span>all conflicts fixed: run <span style="color:#e6db74">&#34;git rebase --continue&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Changes to be committed:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">(</span>use <span style="color:#e6db74">&#34;git restore --staged &lt;file&gt;...&#34;</span> to unstage<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>	modified:   othercolors.txt
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; git rebase --continue
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>detached HEAD 75d347c<span style="color:#f92672">]</span> black
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">1</span> file changed, <span style="color:#ae81ff">1</span> insertion<span style="color:#f92672">(</span>+<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Successfully rebased and updated refs/heads/main.
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; git log
</span></span><span style="display:flex;"><span>commit 14075809eb71cfb5e4ed3351b51736dadd6c9b65 <span style="color:#f92672">(</span>HEAD -&gt; main<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Author: mr-pointing &lt;rpointing@blmhs.org&gt;
</span></span><span style="display:flex;"><span>Date:   Sat Jan <span style="color:#ae81ff">11</span> 15:34:36 <span style="color:#ae81ff">2025</span> -0500
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    rainbow
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>commit 75d347cf2daa17f02db899ba060aae55c1fa6a22
</span></span><span style="display:flex;"><span>Author: mr-pointing &lt;rpointing@blmhs.org&gt;
</span></span><span style="display:flex;"><span>Date:   Sat Jan <span style="color:#ae81ff">11</span> 15:25:42 <span style="color:#ae81ff">2025</span> -0500
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    black
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>commit 5c7072f0dd7de9c4b08aba768ef923d3592b6ddb <span style="color:#f92672">(</span>origin/main, origin/HEAD<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Author: mr-pointing &lt;rpointing@blmhs.org&gt;
</span></span><span style="display:flex;"><span>Date:   Sat Jan <span style="color:#ae81ff">11</span> 15:09:34 <span style="color:#ae81ff">2025</span> -0500
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    gray
</span></span></code></pre></div><p>If you notice, after the rebasing we now have entirely new <code>black</code> and <code>rainbow</code> commits. This is because again, rebasing rewrites history. This leads us to the golden rule of rebasing; <em><strong>you should not rebase a branch that other people&rsquo;s work is based on</strong></em>.</p>
<p>Finally, we can sync all the work to the other repos;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt;&gt;&gt; git push
</span></span><span style="display:flex;"><span>Enumerating objects: 9, <span style="color:#66d9ef">done</span>.
</span></span><span style="display:flex;"><span>Counting objects: 100% <span style="color:#f92672">(</span>9/9<span style="color:#f92672">)</span>, <span style="color:#66d9ef">done</span>.
</span></span><span style="display:flex;"><span>Delta compression using up to <span style="color:#ae81ff">4</span> threads
</span></span><span style="display:flex;"><span>Compressing objects: 100% <span style="color:#f92672">(</span>6/6<span style="color:#f92672">)</span>, <span style="color:#66d9ef">done</span>.
</span></span><span style="display:flex;"><span>Writing objects: 100% <span style="color:#f92672">(</span>6/6<span style="color:#f92672">)</span>, <span style="color:#ae81ff">643</span> bytes | 643.00 KiB/s, <span style="color:#66d9ef">done</span>.
</span></span><span style="display:flex;"><span>Total <span style="color:#ae81ff">6</span> <span style="color:#f92672">(</span>delta 1<span style="color:#f92672">)</span>, reused <span style="color:#ae81ff">0</span> <span style="color:#f92672">(</span>delta 0<span style="color:#f92672">)</span>, pack-reused <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>remote: Resolving deltas: 100% <span style="color:#f92672">(</span>1/1<span style="color:#f92672">)</span>, completed with <span style="color:#ae81ff">1</span> local object.
</span></span><span style="display:flex;"><span>To https://github.com/mr-pointing/rainbow-remote.git
</span></span><span style="display:flex;"><span>   5c7072f..1407580  main -&gt; main
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; git log
</span></span><span style="display:flex;"><span>commit 14075809eb71cfb5e4ed3351b51736dadd6c9b65 <span style="color:#f92672">(</span>HEAD -&gt; main, origin/main, origin/HEAD<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Author: mr-pointing &lt;rpointing@blmhs.org&gt;
</span></span><span style="display:flex;"><span>Date:   Sat Jan <span style="color:#ae81ff">11</span> 15:34:36 <span style="color:#ae81ff">2025</span> -0500
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    rainbow
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>commit 75d347cf2daa17f02db899ba060aae55c1fa6a22
</span></span><span style="display:flex;"><span>Author: mr-pointing &lt;rpointing@blmhs.org&gt;
</span></span><span style="display:flex;"><span>Date:   Sat Jan <span style="color:#ae81ff">11</span> 15:25:42 <span style="color:#ae81ff">2025</span> -0500
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    black
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># In regular rainbow repo now</span>
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; git pull
</span></span><span style="display:flex;"><span>remote: Enumerating objects: 9, <span style="color:#66d9ef">done</span>.
</span></span><span style="display:flex;"><span>remote: Counting objects: 100% <span style="color:#f92672">(</span>9/9<span style="color:#f92672">)</span>, <span style="color:#66d9ef">done</span>.
</span></span><span style="display:flex;"><span>remote: Compressing objects: 100% <span style="color:#f92672">(</span>5/5<span style="color:#f92672">)</span>, <span style="color:#66d9ef">done</span>.
</span></span><span style="display:flex;"><span>remote: Total <span style="color:#ae81ff">6</span> <span style="color:#f92672">(</span>delta 1<span style="color:#f92672">)</span>, reused <span style="color:#ae81ff">6</span> <span style="color:#f92672">(</span>delta 1<span style="color:#f92672">)</span>, pack-reused <span style="color:#ae81ff">0</span> <span style="color:#f92672">(</span>from 0<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Unpacking objects: 100% <span style="color:#f92672">(</span>6/6<span style="color:#f92672">)</span>, <span style="color:#ae81ff">623</span> bytes | 89.00 KiB/s, <span style="color:#66d9ef">done</span>.
</span></span><span style="display:flex;"><span>From https://github.com/mr-pointing/rainbow-remote
</span></span><span style="display:flex;"><span>   5c7072f..1407580  main       -&gt; origin/main
</span></span><span style="display:flex;"><span>Updating 5c7072f..1407580
</span></span><span style="display:flex;"><span>Fast-forward
</span></span><span style="display:flex;"><span> othercolors.txt   | <span style="color:#ae81ff">1</span> +
</span></span><span style="display:flex;"><span> rainbowcolors.txt | <span style="color:#ae81ff">2</span> +-
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">2</span> files changed, <span style="color:#ae81ff">2</span> insertions<span style="color:#f92672">(</span>+<span style="color:#f92672">)</span>, <span style="color:#ae81ff">1</span> deletion<span style="color:#f92672">(</span>-<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; git log
</span></span><span style="display:flex;"><span>commit 14075809eb71cfb5e4ed3351b51736dadd6c9b65 <span style="color:#f92672">(</span>HEAD -&gt; main, origin/main<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Author: mr-pointing &lt;rpointing@blmhs.org&gt;
</span></span><span style="display:flex;"><span>Date:   Sat Jan <span style="color:#ae81ff">11</span> 15:34:36 <span style="color:#ae81ff">2025</span> -0500
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    rainbow
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>commit 75d347cf2daa17f02db899ba060aae55c1fa6a22
</span></span><span style="display:flex;"><span>Author: mr-pointing &lt;rpointing@blmhs.org&gt;
</span></span><span style="display:flex;"><span>Date:   Sat Jan <span style="color:#ae81ff">11</span> 15:25:42 <span style="color:#ae81ff">2025</span> -0500
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    black
</span></span></code></pre></div><hr>
<p>Next:
<a href="https://mrpointing.com/notes/computer-science/textbooks/learning-git/learning-git---chapter-12/">Chapter 12</a></p>

            </div>
        </article>

        <hr />

        <div class="post-info">
            
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="https://mrpointing.com/tags/computerscience/">computerscience</a></span>
        <span class="tag"><a href="https://mrpointing.com/tags/git/">git</a></span>
        <span class="tag"><a href="https://mrpointing.com/tags/textbook/">textbook</a></span>
        
    </p>

            
  		</div>
    </main>

            </div>

            
                <footer class="footer">
    
    <div class="footer__inner">
        <div class="footer__content" style=>
            
            <a href="https://mrpointing.com" style="text-decoration: none;">Richard Pointing</a>
            <span><a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></span>
            
            
        </div>
    </div>
    
    

<link href="/pagefind/pagefind-ui.css" rel="stylesheet">
<script src="/pagefind/pagefind-ui.js"></script>
<div id="search"></div>
<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        new PagefindUI({ element: "#search", showSubResults: true });
    });
</script>
</footer>

            
        </div>

        



<script type="text/javascript" src="/bundle.min.e89fda0f29b95d33f6f4224dd9e5cf69d84aff3818be2b0d73e731689cc374261b016d17d46f8381962fb4a1577ba3017b1f23509d894f6e66431f988c00889e.js" integrity="sha512-6J/aDym5XTP29CJN2eXPadhK/zgYvisNc&#43;cxaJzDdCYbAW0X1G&#43;DgZYvtKFXe6MBex8jUJ2JT25mQx&#43;YjACIng=="></script>




    </body>
</html>
