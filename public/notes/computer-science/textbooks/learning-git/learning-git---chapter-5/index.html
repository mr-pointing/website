<!DOCTYPE html>
<html lang="en">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="">
<meta name="description" content="Merging We last looked at how branches can help a team work on a project together, without losing or any conflicting progress. Now for the logical next step- combining the work together into one branch. We call this merging, or the combining of work from different branches.
The source branch is the merging branch, or where the work is coming from. The target branch is the branch you&amp;rsquo;re merging into." />
<meta name="keywords" content="homepage, blog, computerscience, git, textbook" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="http://localhost:1313/notes/computer-science/textbooks/learning-git/learning-git---chapter-5/" />


    <title>
        
            Learning Git - Chapter 5 :: Mr. Pointing  — Computer Science Teacher
        
    </title>





<link rel="stylesheet" href="/main.035c38bd5963f806b4d5c85fa524207296da59d813979f6be51d99d00155ebce.css" integrity="sha256-A1w4vVlj&#43;Aa01chfpSQgcpbaWdgTl59r5R2Z0AFV684=">




<link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#000000">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="msapplication-TileColor" content="">



  <meta itemprop="name" content="Learning Git - Chapter 5">
  <meta itemprop="description" content="Merging We last looked at how branches can help a team work on a project together, without losing or any conflicting progress. Now for the logical next step- combining the work together into one branch. We call this merging, or the combining of work from different branches.
The source branch is the merging branch, or where the work is coming from. The target branch is the branch you’re merging into.">
  <meta itemprop="datePublished" content="2024-09-15T00:00:00+00:00">
  <meta itemprop="dateModified" content="2024-09-15T00:00:00+00:00">
  <meta itemprop="wordCount" content="1185">
  <meta itemprop="image" content="http://localhost:1313/">
  <meta itemprop="keywords" content="Computerscience,Git,Textbook">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://localhost:1313/">
  <meta name="twitter:title" content="Learning Git - Chapter 5">
  <meta name="twitter:description" content="Merging We last looked at how branches can help a team work on a project together, without losing or any conflicting progress. Now for the logical next step- combining the work together into one branch. We call this merging, or the combining of work from different branches.
The source branch is the merging branch, or where the work is coming from. The target branch is the branch you’re merging into.">



    <meta property="og:url" content="http://localhost:1313/notes/computer-science/textbooks/learning-git/learning-git---chapter-5/">
  <meta property="og:site_name" content="Mr. Pointing">
  <meta property="og:title" content="Learning Git - Chapter 5">
  <meta property="og:description" content="Merging We last looked at how branches can help a team work on a project together, without losing or any conflicting progress. Now for the logical next step- combining the work together into one branch. We call this merging, or the combining of work from different branches.
The source branch is the merging branch, or where the work is coming from. The target branch is the branch you’re merging into.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="notes">
    <meta property="article:published_time" content="2024-09-15T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-09-15T00:00:00+00:00">
    <meta property="article:tag" content="Computerscience">
    <meta property="article:tag" content="Git">
    <meta property="article:tag" content="Textbook">
    <meta property="og:image" content="http://localhost:1313/">






    <meta property="article:published_time" content="2024-09-15 00:00:00 &#43;0000 UTC" />











    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">

    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text ">
                mr. pointing</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/about">About</a></li><li><a href="/notes">Notes</a></li><li><a href="/now">Now</a></li><li><a href="/posts">Posts</a></li><li><a href="/projects">Projects</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="http://localhost:1313/notes/computer-science/textbooks/learning-git/learning-git---chapter-5/">Learning Git - Chapter 5</a></h2>

            
            
            

            <div class="post-content">
                <hr>
<h1 id="merging">Merging</h1>
<p>We last looked at how branches can help a team work on a project together, without losing or any conflicting progress. Now for the logical next step- combining the work together into one branch. We call this <strong>merging</strong>, or the combining of work from different branches.</p>
<p>The <em>source branch</em> is the merging branch, or where the work is coming from. The <em>target branch</em> is the branch you&rsquo;re merging into. The only branch altered in a merge is the target branch.</p>
<blockquote>
<p>[!Example Book Project]
Just like before, I&rsquo;m working with my editor on my new book. Now that we understand merging as a concept, let&rsquo;s shift our workflow around a bit; I want to start a new branch for every chapter. Let&rsquo;s say I&rsquo;ve completed three chapters so far and I&rsquo;m working on <code>main</code>. To begin working on chapter four, I would make a new branch called <code>chapter_four</code> and work there until I got editor approval. Once it&rsquo;s finished, I can merge the <code>chapter_four</code> branch into <code>main</code>.</p>
</blockquote>
<h2 id="types-of-merges">Types of Merges</h2>
<p>The type of merge that happens depends on the state of the target branch and source branch and if their <em>development history</em> has diverged. What does this mean? Let&rsquo;s consider our last diagram from the text&rsquo;s chapter four; yellow&rsquo;s development history is the list of previous parent commits.</p>
<p>As it currently stands, the development history of <code>main</code> is orange and red, while <code>feature</code> has yellow, orange, and red.</p>
<p>If we can get to one branch through the commit history of another branch they have <strong>not</strong> diverged, and we would perform a <em><strong>fast-forward merge</strong></em>.</p>
<p><strong>Example of a Fast-Forward Merge:</strong></p>

    <img src="/images/fast_forward_merge.png"  alt="fast_forward_merge"  class="center"  style="border-radius: 8px;"  />


<p>On the other side of the spectrum, if your development histories <strong>have diverged</strong>, we&rsquo;d have to perform a <em><strong>three-way merge</strong></em>.</p>
<p><strong>Example of a Three-Way Merge:</strong></p>

    <img src="/images/three_way_merge_example.png"  alt="three_way_merge_example"  class="center"  style="border-radius: 8px;"  />


<p>Three-way merges are unfortunately complicated. During the merge, we might encounter what we call a <em>merge conflict</em>, which can happen if both merges edits in the same parts/lines of a file, or if one branch deleted a file while another didn&rsquo;t. We can explore this in more detail in the later chapters (9 and 10 apparently) so let&rsquo;s just focus on getting our Rainbow project going.</p>
<h2 id="doing-a-fast-forward-merge">Doing a Fast-Forward Merge</h2>
<p>Let&rsquo;s make sure we&rsquo;re in our <code>rainbow</code> directory, so we can merge our <code>feature</code> branch into our <code>main</code> branch. We know from our diagram in the last chapter, that our <code>yellow</code> commit is where <code>HEAD</code> is pointing and we&rsquo;re in a new branch, <code>feature</code>.</p>
<p>Now to commit a merge, it happens in two steps:</p>
<ol>
<li>Switch onto the target branch</li>
<li>Use <code>git merge &lt;branch_name&gt;</code> with the name of the source branch as the <code>branch_name</code>.</li>
</ol>
<p>There are two lessons that we should try to identify while doing this merge; Git will help you prevent loss of work in any non-committed files, and when you change a branch the working directories contents may change.</p>
<p>In regards to the first point, let&rsquo;s look at our book example to see how Git protects you;</p>
<blockquote>
<p>[!Example Book Project]
Let&rsquo;s say we&rsquo;re about to start <code>chapter_nine.txt</code>. This time, I&rsquo;m going to make two branches, <code>chapter_nine_a</code> and <code>chapter_nine_b</code>. If I switch to <code>chapter_nine_a</code> and make some commits, then switch the <code>chapter_nine_b</code>, make edits <strong>without</strong> any commits, Git will stop me from switching to any other branches before making my next commit.</p>
</blockquote>
<p>We can try this out with our <code>rainbow</code> repository. While on the <code>feature</code> branch, we can add &ldquo;Green is the fourth color of the rainbow.&rdquo; to <code>rainbowcolors.txt</code>. Now if you try to use <code>git switch main</code>, Git will give you an error saying there are uncommitted changes and abort the attempt.</p>
<p>To keep moving, go back to your <code>rainbowcolors.txt</code> file and undo the green sentence and save the file. If we switch our branch back to main, notice that we have a totally different working directory; our third color sentence does <em>not</em> appear in our <code>rainbowcolors.txt</code>.</p>
<p>We can use <code>git log --all</code> to see a list of commits in reverse chronological order for all branches within your local repository. We should be pointing <code>HEAD</code> at <code>main</code> now. Let&rsquo;s finally make this merge happen;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt;&gt;&gt; git merge feature
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; git log
</span></span><span style="display:flex;"><span>commit 43a7cffeceeaa1be4b55e94f4769ff5dc154cde4 <span style="color:#f92672">(</span>HEAD -&gt; main, feature<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Author: mr-pointing &lt;rpointing@blmhs.org&gt;
</span></span><span style="display:flex;"><span>Date:   Sat Sep <span style="color:#ae81ff">14</span> 16:57:14 <span style="color:#ae81ff">2024</span> -0400
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    yellow
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>commit ae65b50098378ac6bf0cbe9ab92a9884b98db61b
</span></span><span style="display:flex;"><span>Author: mr-pointing &lt;rpointing@blmhs.org&gt;
</span></span><span style="display:flex;"><span>Date:   Fri Sep <span style="color:#ae81ff">13</span> 15:59:13 <span style="color:#ae81ff">2024</span> -0400
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    orange
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>commit f54fa770db92bbe31125032abb853f7dd6af414b
</span></span><span style="display:flex;"><span>Author: mr-pointing &lt;rpointing@blmhs.org&gt;
</span></span><span style="display:flex;"><span>Date:   Thu Sep <span style="color:#ae81ff">12</span> 15:59:22 <span style="color:#ae81ff">2024</span> -0400
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    red
</span></span></code></pre></div><p>Here&rsquo;s an updated diagram of what our new directory looks like:</p>

    <img src="/images/git_directory_diagram_v3.png"  alt="git_directory_diagram_v3"  class="center"  style="border-radius: 8px;"  />


<p>An important thing to notice is even after the merge, we didn&rsquo;t get rid of the <code>feature</code> branch. Our <code>main</code> branch and <code>feature</code> branch are now both pointing at our <code>yellow</code> commit.</p>
<h2 id="checking-out-commits">Checking Out Commits</h2>
<p><em>Checking out</em> is a way to view a commit that no longer has a branch pointing to it. For example, let&rsquo;s say we wanted to go look at the state of our project at the <code>orange</code> commit. Right now, there are no available branches to switch too. In this case, we&rsquo;d need to use the <code>git checkout</code> command.</p>
<p>The syntax is, <code>git checkout &lt;commit_hash&gt;</code>, where <code>commit_hash</code> is the hash of the commit you want to check out. Three things happen when you check out:</p>
<ol>
<li><code>HEAD</code> points to the checked out commit</li>
<li>Staging area is populated with the files and directories used at that commit</li>
<li>Staging area get&rsquo;s copied into the working directory.</li>
</ol>
<p>Just like switching branches, the contents of the working directory actively change to look like they did when that commit was made.</p>
<p>Unlike when we switched branches however, <code>HEAD</code> doesn&rsquo;t point at any branches, <em>just</em> the commit. This is known as a <em>detached HEAD state</em>, and we should avoid making any changes/commits in this state. If we wanted too, we should first make new branch using <code>git switch -c &lt;new-branch-name&gt;</code>, then make some commits. Git will actually suggest this to you when you make a checkout;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt;&gt;&gt; git checkout ae65b50098378ac6bf0cbe9ab92a9884b98db61b
</span></span><span style="display:flex;"><span>Note: switching to <span style="color:#e6db74">&#39;ae65b50098378ac6bf0cbe9ab92a9884b98db61b&#39;</span>.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>You are in <span style="color:#e6db74">&#39;detached HEAD&#39;</span> state. You can look around, make experimental
</span></span><span style="display:flex;"><span>changes and commit them, and you can discard any commits you make in this
</span></span><span style="display:flex;"><span>state without impacting any branches by switching back to a branch.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>If you want to create a new branch to retain commits you create, you may
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">do</span> so <span style="color:#f92672">(</span>now or later<span style="color:#f92672">)</span> by using -c with the switch command. Example:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  git switch -c &lt;new-branch-name&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Or undo this operation with:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  git switch -
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Turn off this advice by setting config variable advice.detachedHead to false
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>HEAD is now at ae65b50 orange
</span></span></code></pre></div><p>Funnily enough, because we moved backwards, using <code>git log</code> will only show the <code>orange</code> and <code>red</code> commit. We would need to use <code>git log --all</code> to see where our <code>main</code> and <code>feature</code> branch.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt;&gt;&gt; git log --all
</span></span><span style="display:flex;"><span>commit 43a7cffeceeaa1be4b55e94f4769ff5dc154cde4 <span style="color:#f92672">(</span>main, feature<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Author: mr-pointing &lt;rpointing@blmhs.org&gt;
</span></span><span style="display:flex;"><span>Date:   Sat Sep <span style="color:#ae81ff">14</span> 16:57:14 <span style="color:#ae81ff">2024</span> -0400
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    yellow
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>commit ae65b50098378ac6bf0cbe9ab92a9884b98db61b <span style="color:#f92672">(</span>HEAD<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Author: mr-pointing &lt;rpointing@blmhs.org&gt;
</span></span><span style="display:flex;"><span>Date:   Fri Sep <span style="color:#ae81ff">13</span> 15:59:13 <span style="color:#ae81ff">2024</span> -0400
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    orange
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>commit f54fa770db92bbe31125032abb853f7dd6af414b
</span></span><span style="display:flex;"><span>Author: mr-pointing &lt;rpointing@blmhs.org&gt;
</span></span><span style="display:flex;"><span>Date:   Thu Sep <span style="color:#ae81ff">12</span> 15:59:22 <span style="color:#ae81ff">2024</span> -0400
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    red
</span></span></code></pre></div><p>Lastly, we just learned we can create and switch to a new branch using <code>git switch -c &lt;new_branch_name&gt;</code>. We can also do this using <code>git checkout -b &lt;new_branch_name&gt;</code>.</p>
<hr>
<p>Next:
<a href="http://localhost:1313/notes/computer-science/textbooks/learning-git/learning-git---chapter-6/">Chapter 6</a></p>

            </div>
        </article>

        <hr />

        <div class="post-info">
            
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="http://localhost:1313/tags/computerscience/">computerscience</a></span>
        <span class="tag"><a href="http://localhost:1313/tags/git/">git</a></span>
        <span class="tag"><a href="http://localhost:1313/tags/textbook/">textbook</a></span>
        
    </p>

            
  		</div>
    </main>

            </div>

            
                <footer class="footer">
    
    <div class="footer__inner">
        <div class="footer__content" style=>
            
            <a href="https://mrpointing.com" style="text-decoration: none;">Richard Pointing</a>
            <span><a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></span>
            
            
        </div>
    </div>
    
    
</footer>

            
        </div>

        



<script type="text/javascript" src="/bundle.min.e89fda0f29b95d33f6f4224dd9e5cf69d84aff3818be2b0d73e731689cc374261b016d17d46f8381962fb4a1577ba3017b1f23509d894f6e66431f988c00889e.js" integrity="sha512-6J/aDym5XTP29CJN2eXPadhK/zgYvisNc&#43;cxaJzDdCYbAW0X1G&#43;DgZYvtKFXe6MBex8jUJ2JT25mQx&#43;YjACIng=="></script>




    </body>
</html>
