<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="">
<meta name="description" content=" Data Structures As we know, Lua just has tables. Within this, we can arrange tables in numerous different fashions to create whatever data structure we need. Since tables work so well, some of these aren&rsquo;t entirely necessary but can be done.
Arrays To accomplish the array structure, we can do something we&rsquo;ve done previously; create a table with numbered indexes. Super simple to accomplish.
a = {} for i=1, 100 do a[i] = 0 end The above creates an array with a range of 1 to 100, and any call to a field out of that range will return nil. We can find the length of a easily with #a. A one liner version for an array type of table is accomplished with any set of numbers like so;
" />
<meta name="keywords" content="homepage, blog, computerscience, textbook, lua" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://mrpointing.com/notes/computer-science/textbooks/programming-in-lua/real-programming/programming-in-lua---chapter-14/" />


    <title>
        
            Programming in Lua - Chapter 14 :: Mr. Pointing  — Computer Science Teacher
        
    </title>





<link rel="stylesheet" href="/main.42bc4753416907cd4d426f337ec77c315cab5fdcabe850c0ea0a747a2f6744a7.css" integrity="sha256-QrxHU0FpB81NQm8zfsd8MVyrX9yr6FDA6gp0ei9nRKc=">




<link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#000000">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="msapplication-TileColor" content="">



  <meta itemprop="name" content="Programming in Lua - Chapter 14">
  <meta itemprop="description" content="Data Structures As we know, Lua just has tables. Within this, we can arrange tables in numerous different fashions to create whatever data structure we need. Since tables work so well, some of these aren’t entirely necessary but can be done.
Arrays To accomplish the array structure, we can do something we’ve done previously; create a table with numbered indexes. Super simple to accomplish.
a = {} for i=1, 100 do a[i] = 0 end The above creates an array with a range of 1 to 100, and any call to a field out of that range will return nil. We can find the length of a easily with #a. A one liner version for an array type of table is accomplished with any set of numbers like so;">
  <meta itemprop="datePublished" content="2025-05-04T00:00:00+00:00">
  <meta itemprop="dateModified" content="2025-05-04T00:00:00+00:00">
  <meta itemprop="wordCount" content="897">
  <meta itemprop="image" content="https://mrpointing.com/">
  <meta itemprop="keywords" content="Computerscience,Textbook,Lua">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://mrpointing.com/">
  <meta name="twitter:title" content="Programming in Lua - Chapter 14">
  <meta name="twitter:description" content="Data Structures As we know, Lua just has tables. Within this, we can arrange tables in numerous different fashions to create whatever data structure we need. Since tables work so well, some of these aren’t entirely necessary but can be done.
Arrays To accomplish the array structure, we can do something we’ve done previously; create a table with numbered indexes. Super simple to accomplish.
a = {} for i=1, 100 do a[i] = 0 end The above creates an array with a range of 1 to 100, and any call to a field out of that range will return nil. We can find the length of a easily with #a. A one liner version for an array type of table is accomplished with any set of numbers like so;">



    <meta property="og:url" content="https://mrpointing.com/notes/computer-science/textbooks/programming-in-lua/real-programming/programming-in-lua---chapter-14/">
  <meta property="og:site_name" content="Mr. Pointing">
  <meta property="og:title" content="Programming in Lua - Chapter 14">
  <meta property="og:description" content="Data Structures As we know, Lua just has tables. Within this, we can arrange tables in numerous different fashions to create whatever data structure we need. Since tables work so well, some of these aren’t entirely necessary but can be done.
Arrays To accomplish the array structure, we can do something we’ve done previously; create a table with numbered indexes. Super simple to accomplish.
a = {} for i=1, 100 do a[i] = 0 end The above creates an array with a range of 1 to 100, and any call to a field out of that range will return nil. We can find the length of a easily with #a. A one liner version for an array type of table is accomplished with any set of numbers like so;">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="notes">
    <meta property="article:published_time" content="2025-05-04T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-05-04T00:00:00+00:00">
    <meta property="article:tag" content="Computerscience">
    <meta property="article:tag" content="Textbook">
    <meta property="article:tag" content="Lua">
    <meta property="og:image" content="https://mrpointing.com/">






    <meta property="article:published_time" content="2025-05-04 00:00:00 &#43;0000 UTC" />









    




    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">

    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text ">
                mr. pointing</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/about">About</a></li><li><a href="/notes">Notes</a></li><li><a href="/now">Now</a></li><li><a href="/posts">Posts</a></li><li><a href="/projects">Projects</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="https://mrpointing.com/notes/computer-science/textbooks/programming-in-lua/real-programming/programming-in-lua---chapter-14/">Programming in Lua - Chapter 14</a></h2>

            
            
            

            <div class="post-content">
                <hr>
<h1 id="data-structures">Data Structures</h1>
<p>As we know, Lua just has tables. Within this, we can arrange tables in numerous different fashions to create whatever data structure we need. Since tables work so well, some of these aren&rsquo;t entirely necessary but can be done.</p>
<h2 id="arrays">Arrays</h2>
<p>To accomplish the array structure, we can do something we&rsquo;ve done previously; create a table with numbered indexes. Super simple to accomplish.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> {}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">100</span> <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>  a[i] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><p>The above creates an array with a range of 1 to 100, and any call to a field out of that range will return <code>nil</code>. We can find the length of <code>a</code> easily with <code>#a</code>. A one liner version for an array type of table is accomplished with any set of numbers like so;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">16</span>, <span style="color:#ae81ff">26</span>}
</span></span></code></pre></div><h2 id="matrices-and-multi-dimensional-arrays">Matrices and Multi-Dimensional Arrays</h2>
<p>Lua has two methods of creating matrices; an array of arrays or combining two indices into one. For the first one;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">local</span> mt <span style="color:#f92672">=</span> {}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, N <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">local</span> row <span style="color:#f92672">=</span> {}
</span></span><span style="display:flex;"><span>  mt[i] <span style="color:#f92672">=</span> row
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">for</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, M <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>    row[j] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><p>For the second;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">local</span> mt <span style="color:#f92672">=</span> {}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, N <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">local</span> aux <span style="color:#f92672">=</span> (i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">*</span> M
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">for</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, M <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>    mt[aux <span style="color:#f92672">+</span> j] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><p>Lua creates naturally <em>sparse matricies</em>, since we are using tables. For a graph of ten thousand nodes which 5 neighbors, leading to a hundred million entries, we would need ten thousand tables with 5 elements for the first method, and only a single table with fifty thousand entries.</p>
<p>Length operators can&rsquo;t be used on these structures accurately, but we can accomplish pretty easy mathematical operations;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, M <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">for</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, N <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>    c[i][j] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> k <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, K <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>      c[i][j] <span style="color:#f92672">=</span> c[i][j] <span style="color:#f92672">+</span> a[i][k] <span style="color:#f92672">*</span> b[k][j]
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><p>The above would not work on sparse matrix; the reason being that the inner loop doesn&rsquo;t function the way we need to. It&rsquo;s a simple fix for sparse matrices;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, M <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">for</span> k <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, K <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, N <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>      c[i][j] <span style="color:#f92672">=</span> c[i][j] <span style="color:#f92672">+</span> a[i][k] <span style="color:#f92672">*</span> b[k][j]
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><h2 id="linked-lists">Linked Lists</h2>
<p>Another simple to implement structure;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span>list <span style="color:#f92672">=</span> <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>v <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;something&#34;</span>
</span></span><span style="display:flex;"><span>list <span style="color:#f92672">=</span> {next <span style="color:#f92672">=</span> list, value <span style="color:#f92672">=</span> v}
</span></span></code></pre></div><p>To traverse the list;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">local</span> l <span style="color:#f92672">=</span> list
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> l <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">do</span> something with value<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>  l <span style="color:#f92672">=</span> l.next
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><h2 id="queues-and-double-ended-queues">Queues and Double Ended Queues</h2>
<p>Since we already went over <code>insert</code> and <code>remove</code> in the table library, we know we can accomplish these with a table. The big pain is the process of moving entries over when inserting into a large table. The best way to avoid this is having a pointer to the beginning and end of the table for instant access and easy entry.</p>
<h2 id="sets">Sets</h2>
<p>A good use of sets in Lua are reserved words. The best way is using the value as an index, and setting the value to <code>True</code>;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span>reserved <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>	[<span style="color:#e6db74">&#34;while&#34;</span>] <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>	[<span style="color:#e6db74">&#34;if&#34;</span>] <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>	[<span style="color:#e6db74">&#34;else&#34;</span>] <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> w <span style="color:#66d9ef">in</span> string.gmatch(s, <span style="color:#e6db74">&#34;[%a_][%w_]*&#34;</span>) <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> reserved[w] <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">do</span> something<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><p>We could even write a function to perform this action for us;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Set</span> (list)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">local</span> set <span style="color:#f92672">=</span> {}
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">for</span> _, l <span style="color:#66d9ef">in</span> ipairs(list) <span style="color:#66d9ef">do</span> set[l] <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span> <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> set
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>reserved <span style="color:#f92672">=</span> Set{<span style="color:#e6db74">&#34;while&#34;</span>, <span style="color:#e6db74">&#34;if&#34;</span>, <span style="color:#e6db74">&#34;else&#34;</span>, <span style="color:#e6db74">&#34;do&#34;</span>}
</span></span></code></pre></div><h2 id="graphs">Graphs</h2>
<p>Another element needed and necessary for any programming language, and the last one we&rsquo;re going to look at, is unsurprisingly created through tables. Each node in the graph is a table with two fields, the <code>name</code> of the node and table of <code>adjacent</code> nodes for it&rsquo;s neighbors.</p>
<p>The text offers a pretty thorough example so why not walk through it. If a graph exists in a file, we can use the following to retrieve it;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">read_graph</span> ()
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">local</span> graph <span style="color:#f92672">=</span> {}
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">for</span> line <span style="color:#66d9ef">in</span> io.lines() <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">-- splits line into two names</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">local</span> namefrom, nameto <span style="color:#f92672">=</span> string.mathc(line, <span style="color:#e6db74">&#34;(%S+)%s+(%S+)&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">-- find any adjacent nodes</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">local</span> from <span style="color:#f92672">=</span> name2node(graph, namefrom)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">local</span> to <span style="color:#f92672">=</span> name2node(graph, nameto)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">-- ads &#39;to&#39; to the adjacent set of &#39;from&#39;</span>
</span></span><span style="display:flex;"><span>    from.adj[to] <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> graph
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><p>The function <code>name2node</code>;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">local</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">name2node</span> (graph, name)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">local</span> node <span style="color:#f92672">=</span> graph[name]
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> node <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">-- node does not exist; create a new one</span>
</span></span><span style="display:flex;"><span>    node <span style="color:#f92672">=</span> {name <span style="color:#f92672">=</span> name, adj <span style="color:#f92672">=</span> {}}
</span></span><span style="display:flex;"><span>    graph[name] <span style="color:#f92672">=</span> node
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> node
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><p>We can even write a function to find the path between two nodes;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">find_path</span> (curr, to, path, visited)
</span></span><span style="display:flex;"><span>  path <span style="color:#f92672">=</span> path <span style="color:#f92672">or</span> {}
</span></span><span style="display:flex;"><span>  visited <span style="color:#f92672">=</span> visited <span style="color:#f92672">or</span> {}
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> visited[curr] <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nil</span>  <span style="color:#75715e">-- node has already been visited, no path</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>  visited[curr] <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>  <span style="color:#75715e">-- mark as visited</span>
</span></span><span style="display:flex;"><span>  path[<span style="color:#f92672">#</span> path <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> curr  <span style="color:#75715e">-- add to the path</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> curr <span style="color:#f92672">==</span> to <span style="color:#66d9ef">then</span> <span style="color:#75715e">-- check if final node</span>
</span></span><span style="display:flex;"><span>    reutrn path
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">-- Try all adjacent nodes</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">for</span> node <span style="color:#66d9ef">in</span> pairs(curr.adj) <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">local</span> p <span style="color:#f92672">=</span> findpath(node, to, path, visited)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> p <span style="color:#66d9ef">then</span> <span style="color:#66d9ef">return</span> p <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>  table.remove(path) <span style="color:#75715e">-- remove node from path</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><h3 id="exercises">Exercises</h3>
<ol>
<li>Write a function to add to sparse matrices</li>
<li>Modify the queue implementation in Listing 14.2 so that both indices return to 0 when the queue is empty.</li>
<li>Modify the graph structure so that it can keep a label for each arc.</li>
</ol>
<hr>
<p>Next:
<a href="https://mrpointing.com/notes/computer-science/textbooks/programming-in-lua/real-programming/programming-in-lua---chapter-15/">Chapter 15</a></p>

            </div>
        </article>

        <hr />

        <div class="post-info">
            
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="https://mrpointing.com/tags/computerscience/">computerscience</a></span>
        <span class="tag"><a href="https://mrpointing.com/tags/textbook/">textbook</a></span>
        <span class="tag"><a href="https://mrpointing.com/tags/lua/">lua</a></span>
        
    </p>

            
  		</div>
    </main>

            </div>

            
                <footer class="footer">
    
    <div class="footer__inner">
        <div class="footer__content" style=>
            
            <a href="https://mrpointing.com" style="text-decoration: none;">Richard Pointing</a>
            <span><a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></span>
            
            
        </div>
    </div>
    
    

<link href="/pagefind/pagefind-ui.css" rel="stylesheet">
<script src="/pagefind/pagefind-ui.js"></script>
<div id="search"></div>
<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        new PagefindUI({ element: "#search", showSubResults: true, resetStyles: true });
    });
</script>
</footer>

            
        </div>

        



<script type="text/javascript" src="/bundle.min.e89fda0f29b95d33f6f4224dd9e5cf69d84aff3818be2b0d73e731689cc374261b016d17d46f8381962fb4a1577ba3017b1f23509d894f6e66431f988c00889e.js" integrity="sha512-6J/aDym5XTP29CJN2eXPadhK/zgYvisNc&#43;cxaJzDdCYbAW0X1G&#43;DgZYvtKFXe6MBex8jUJ2JT25mQx&#43;YjACIng=="></script>




    </body>
</html>
